dataContractSpecification: 1.1.0

id: data-contract-example_user_interactions_enhanced

info:
  title: user_interactions
  version: 2.0.0
  owner: Example Team
  contact:
    name: John Doe
    email: john.doe@example.com

servers:
  development:
    type: databricks
    catalog: dev_catalog
    schema: dev_schema
  production:
    type: databricks
    catalog: prod_catalog
    schema: prod_schema

terms:
  usage: Analysis of user behavior on the platform
  limitations: Not for real-time decision making
  billing: Contact data engineering

servicelevels:
  availability:
    description: Available 24/7
    percentage: 99.99%
  retention:
    description: Data retained for 1 year
    period: P1Y
    unlimited: false
  latency:
    description: Data available within 1 hour
    threshold: 1h
  frequency:
    description: Data updated every 15 minutes
    type: streaming
    interval: 15 minutes
  support:
    description: Support available during business hours
    time: 9am - 5pm PST
    responseTime: 30 minutes

links:
  documentation: https://example.com/documentation

models:
  datacontract_test:
    type: table
    description: Table containing user interaction data on the platform.
    fields:
      interaction_id:
        type: string
        required: true
        primary: true
        description: Unique identifier for the interaction.
      user_id:
        type: string
        required: true
        description: Unique identifier for the user.
      interaction_type:
        type: string
        required: true
        description: Type of interaction (e.g., click, view, purchase).
      interaction_timestamp:
        type: timestamp
        required: true
        description: Timestamp of the interaction.
      item_id:
        type: string
        required: false
        description: Identifier of the item interacted with.
      interaction_value:
        type: integer
        required: false
        description: Value associated with the interaction (e.g., amount spent).
      location:
        type: string
        required: false
        description: User's location during the interaction.
      device:
        type: string
        required: false
        description: User's device during the interaction.
      interaction_date:
        type: string
        required: true
        description: Date of the interaction.
      time_since_last_interaction:
        type: integer
        required: false
        description: Time since the user's last interaction (in days).
      is_active:
          type: boolean
          required: false
          description: Flag indicating if the user is still active
      user_profile:
        type: struct
        required: false
        description: User profile information.
        fields:
          age:
            type: integer
            required: false
            description: User's age.
          gender:
            type: string
            required: false
            description: User's gender.
          location_details:
            type: struct
            required: false
            description: Nested location information.
            fields:
              city:
                type: string
                required: false
                description: User's city.
              country:
                type: string
                required: false
                description: User's country.
      related_items:
        type: array
        required: false
        description: List of item IDs related to this interaction.
        items:
          type: string
      interaction_context:
        type: struct
        required: false
        description: Contextual information about the interaction.
        fields:
          page_url:
            type: string
            required: false
            description: URL of the page where the interaction occurred.
          device_type:
            type: string
            required: false
            description: Type of device used for the interaction.