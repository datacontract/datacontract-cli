kind: DataContract
apiVersion: v3.1.0
id: jsonschema-complex-data
name: sts data
version: "1.0.0"
status: active
team:
  name: Checkout Team
schema:
  - name: sts_data
    physicalType: table
    properties:
      - name: array_test_string
        logicalType: array
        required: true
        items:
          name: item
          logicalType: string
          required: true
      - name: array_test_object
        logicalType: array
        required: true
        items:
          name: item
          logicalType: object
          required: true
          properties:
            - name: key
              logicalType: string
              required: true
            - name: value
              logicalType: string
              required: true
      - name: id
        logicalType: string
        required: true
        logicalTypeOptions:
          minLength: 1
          maxLength: 10
          pattern: "^[0-9]{8}$"
      - name: sts_data
        logicalType: object
        required: true
        properties:
          - name: connection_test
            logicalType: string
            required: true
            customProperties:
              - property: enum
                value: '["SUCCESS", "FAIL", "NULL"]'
          - name: key_list
            logicalType: object
            required: true
            properties:
              - name: "^[0-5]$"
                logicalType: object
                properties:
                  - name: key
                    logicalType: string
                    required: true
                    logicalTypeOptions:
                      pattern: "^[0-9]{8}$"
      - name: empty_object
        logicalType: object
